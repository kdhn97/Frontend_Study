# 14장. 인증과 세션

### 웹 애플리케이션 인증

- 인증 (Authentication) : 사용자가 자기 자신임을 증명하는 것
  -> 웹 서버는 어떤 클라이언트가 서버에 연결되어 있는지 알기 위해, 각 클라이언트 연결에 세션 ID를 생성하여
  -> 서버의 세션 저장소에 저장한 후, 응답과 함께 클라이언트에 전송하고, 다음에 요청하면 인증을 수행하지 않고 응답함

- 세션 (Session) : 세션 ID로 클라이언트와 서버가 서로 연결되어 있는 상태
  -> 서버에서 세션 ID를 쿠키에 담아 클라이언트에 전송 or 클라이언트는 서버가 전송한 세션 ID를 구키에 담아 저장
  -> 이후 다음 서버 요청 시에 세션 ID가 담긴 쿠키를 요청 헤더에 실어 전송하면 정보 가져옴
  -> 하지만 이 방식은 외부에서 쿠키를 탈취하여 정보가 유출될 수 있음
  -> 이 문제를 해결하기 위해 'JWT 인증 (JSON Web Token)' 방식 도입

- 사용자 인증 방식

1. JWT 인증

- JSON으로 만들어진 인증 관련 정보를 인코딩한 토큰에 포함된 사용자 정보를 이용하여 인증을 처리하는 방식

- 헤더(Header) - 암호화 X
- 페이로드(Payload) - 암호화 X
- 서명(Signature) - 암호화 O, 시크릿 키를 알지 못하면 복호화할 수 없다

2. OAuth2

- 구글, 네이버, 카카오 등 (외부 기관)을 통하여 사용자 인증을 받는 방식
- 외부 기관을 '권한 서버(Authorization Server)'
- 이러한 권한 서버는 해당 사용자를 인증해서, 인증 토큰을 전송하고, 리소스 서버에 인증 토큰을 전송

### JWT 인증
- NextAuth.js 라이브러리 : npm install next-auth

### OAuth2 인증
- 깃허브 인증 : GitHubProvider
- 구글 인증 : GoogleProvider